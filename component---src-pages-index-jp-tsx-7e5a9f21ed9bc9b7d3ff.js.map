{"version":3,"sources":["webpack:///./src/pages/index.jp.tsx","webpack:///./src/components/FormFields.module.css","webpack:///./src/components/HomePage.tsx","webpack:///./src/components/FormFields.tsx","webpack:///./src/components/Form.tsx"],"names":["IndexPage","location","defaultLang","title","home","jp","description","module","exports","useState","React","useRef","useEffect","options","rootMargin","threshold","submitData","updateSubmitData","showBuilder","toggleBuilder","HomeRef","isPlayFeature","setFeaturePlay","isPlayCodeCompare","setCodeComparePlay","isIsolatePlay","setIsolatePlay","isCardPlay","isPlayRender","setRenderPlay","formUpdated","setFormUpdated","language","useStateMachine","state","currentLanguage","search","startsWith","setTimeout","current","scrollIntoView","behavior","IntersectionObserver","featureList","document","querySelector","codeComparison","rendering","isolate","observer","entries","forEach","entry","isIntersecting","target","observe","disconnect","className","styles","root","homeRef","ref","onSubmit","data","containerStyles","centerContent","typographyStyles","h1","findInteresting","heading","buttonStyles","buttonsGroup","style","maxWidth","primaryButton","onClick","navigate","translateLink","getStarted","errorStyle","border","colors","secondary","background","errorPink","borderLeft","lightPink","FormFields","formData","errors","register","map","field","type","aria-label","name","required","key","marginBottom","value","split","filter","Boolean","option","placeholder","maxLength","minLength","radioGroup","color","autoComplete","pattern","RegExp","max","min","animationProps","start","opacity","end","duration","methods","devTool","useForm","mode","handleSubmit","watch","formState","reset","touched","Object","keys","generic","liveDemo","play","transform","delay","render","note","wrapper","demoForm","example","pinkButton","submit","fontSize","margin","darkButton","goToBuilder","edit","watchTitle","length","code","JSON","stringify","errorTitle","error","reduce","previous","rest","touchedTitle"],"mappings":"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","file":"component---src-pages-index-jp-tsx-7e5a9f21ed9bc9b7d3ff.js","sourcesContent":["import * as React from \"react\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport Home from \"../components/HomePage\"\nimport home from \"../data/home\"\n\nconst IndexPage = ({\n  location,\n}: {\n  location: {\n    search: string\n    pathname: string\n  }\n}) => (\n  <Layout location={location} defaultLang=\"jp\">\n    <Seo\n      title={home.title.jp}\n      description={home.description.jp}\n      location={location}\n    />\n    <Home location={location} defaultLang=\"jp\" />\n  </Layout>\n)\n\nexport default IndexPage\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioGroup\":\"FormFields-module--radioGroup--3idzI\"};","import * as React from \"react\"\nimport { navigate } from \"@reach/router\"\nimport Form from \"./Form\"\nimport Header from \"./Header\"\nimport CodeCompareSection from \"./CodeCompareSection\"\nimport CodePerfCompareSection from \"./CodePerfCompareSection\"\nimport IsolateRender from \"./IsolateRender\"\nimport FooterContent from \"./Footer\"\nimport Builder from \"./BuilderPage\"\nimport FeaturesList from \"./FeaturesList\"\nimport { useStateMachine } from \"little-state-machine\"\nimport home from \"../data/home\"\nimport translateLink from \"./logic/translateLink\"\nimport typographyStyles from \"../styles/typography.module.css\"\nimport containerStyles from \"../styles/container.module.css\"\nimport buttonStyles from \"../styles/button.module.css\"\nimport styles from \"./HomePage.module.css\"\n\nconst { useState, useRef, useEffect } = React\n\nconst options = {\n  rootMargin: \"0px 0px\",\n  threshold: [1],\n}\n\nfunction HomePage({\n  location,\n  defaultLang,\n}: {\n  location: {\n    search: string\n    pathname: string\n  }\n  defaultLang: string\n}) {\n  const [submitData, updateSubmitData] = useState({})\n  const [showBuilder, toggleBuilder] = useState(false)\n  const HomeRef = useRef(null)\n  const [isPlayFeature, setFeaturePlay] = useState(false)\n  const [isPlayCodeCompare, setCodeComparePlay] = useState(false)\n  const [isIsolatePlay, setIsolatePlay] = useState(false)\n  const [isCardPlay, setCardPlay] = useState(false)\n  const [isPlayRender, setRenderPlay] = useState(false)\n  const [formUpdated, setFormUpdated] = useState(false)\n  const {\n    state: { language },\n  } = useStateMachine()\n  const { currentLanguage } =\n    language && language.currentLanguage\n      ? language\n      : { currentLanguage: defaultLang }\n\n  const onSubmit = (data) => {\n    updateSubmitData(data)\n  }\n\n  useEffect(() => {\n    if (location.search.startsWith(\"?goToDemo\")) {\n      setTimeout(() => {\n        HomeRef.current.scrollIntoView({ behavior: \"smooth\" })\n\n        if (location.search.startsWith(\"?goToDemo&updated=true\")) {\n          setFormUpdated(true)\n        }\n      }, 100)\n    }\n\n    if (!IntersectionObserver) {\n      setFeaturePlay(true)\n      setCodeComparePlay(true)\n    }\n\n    const featureList = document.querySelector(\"#featureLast\")\n    const codeComparison = document.querySelector(\"#codeComparison\")\n    const rendering = document.querySelector(\"#rendering\")\n    const isolate = document.querySelector(\"#isolate\")\n    const card = document.querySelector(\"#card\")\n\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          if (entry.target === featureList && !isPlayFeature) {\n            setFeaturePlay(true)\n          }\n          if (entry.target === codeComparison && !isPlayCodeCompare) {\n            setCodeComparePlay(true)\n          }\n          if (entry.target === rendering && !isPlayRender) {\n            setRenderPlay(true)\n          }\n          if (entry.target === isolate && !isIsolatePlay) {\n            setIsolatePlay(true)\n          }\n          // if (entry.target === card && !isCardPlay) {\n          //   setCardPlay(true)\n          // }\n        }\n      })\n    }, options)\n\n    observer.observe(featureList)\n    observer.observe(codeComparison)\n    observer.observe(rendering)\n    observer.observe(isolate)\n    // observer.observe(card)\n\n    return () => observer.disconnect()\n  }, [])\n\n  return (\n    <div className={styles.root}>\n      {showBuilder && (\n        <Builder\n          showBuilder\n          toggleBuilder={toggleBuilder}\n          HomeRef={HomeRef}\n          defaultLang={defaultLang}\n        />\n      )}\n\n      <Header\n        isCardPlay={isCardPlay}\n        homeRef={HomeRef}\n        defaultLang={defaultLang}\n      />\n\n      <FeaturesList\n        isPlayFeature={isPlayFeature}\n        currentLanguage={currentLanguage}\n      />\n\n      <CodeCompareSection\n        isPlayCodeCompare={isPlayCodeCompare}\n        currentLanguage={currentLanguage}\n      />\n\n      <IsolateRender\n        isIsolatePlay={isIsolatePlay}\n        currentLanguage={currentLanguage}\n      />\n\n      <CodePerfCompareSection\n        isPlayRender={isPlayRender}\n        currentLanguage={currentLanguage}\n      />\n\n      <div ref={HomeRef} />\n\n      <Form\n        {...{\n          onSubmit,\n          submitData,\n          toggleBuilder,\n          formUpdated,\n          currentLanguage,\n        }}\n      />\n\n      <section className={containerStyles.centerContent}>\n        <h1 className={typographyStyles.h1}>\n          {home.findInteresting[currentLanguage].heading}\n        </h1>\n        <p>{home.findInteresting[currentLanguage].description}</p>\n        <div\n          className={buttonStyles.buttonsGroup}\n          style={{\n            maxWidth: 500,\n          }}\n        >\n          <button\n            className={buttonStyles.primaryButton}\n            onClick={() => {\n              navigate(translateLink(\"get-started\", currentLanguage))\n            }}\n          >\n            {home.getStarted[currentLanguage]}\n          </button>\n          <button\n            className={buttonStyles.primaryButton}\n            onClick={() => {\n              navigate(translateLink(\"api\", currentLanguage))\n            }}\n          >\n            API\n          </button>\n        </div>\n      </section>\n\n      <FooterContent currentLanguage={currentLanguage} />\n    </div>\n  )\n}\n\nexport default React.memo(HomePage)\n","import * as React from \"react\"\nimport colors from \"../styles/colors\"\nimport styles from \"./FormFields.module.css\"\n\nconst errorStyle = {\n  border: `1px solid ${colors.secondary}`,\n  background: colors.errorPink,\n  borderLeft: `10px solid ${colors.lightPink}`,\n}\n\nconst FormFields = ({ formData, errors, register }) => {\n  return (formData || []).map((field) => {\n    switch (field.type) {\n      case \"select\":\n        return (\n          <select\n            aria-label={field.name}\n            name={field.name}\n            ref={register({ required: field.required })}\n            key={field.name}\n            style={{\n              marginBottom: 20,\n              ...(errors[field.name] ? errorStyle : null),\n            }}\n          >\n            <option value=\"\">Select...</option>\n            {field.options &&\n              field.options\n                .split(\";\")\n                .filter(Boolean)\n                .map((option) => {\n                  return <option key={option}>{option}</option>\n                })}\n          </select>\n        )\n      case \"textarea\":\n        return (\n          <textarea\n            aria-label={field.name}\n            name={field.name}\n            placeholder={field.name}\n            ref={register({\n              required: field.required,\n              ...(field.maxLength ? { maxLength: field.maxLength } : null),\n              ...(field.minLength ? { minLength: field.minLength } : null),\n            })}\n            key={field.name}\n            style={{\n              marginBottom: 20,\n              ...(errors[field.name] ? errorStyle : null),\n            }}\n          />\n        )\n      case \"radio\":\n        return (\n          <div\n            className={styles.radioGroup}\n            key={field.name}\n            style={{ marginBottom: 20 }}\n            aria-label={field.name}\n          >\n            {field.options &&\n              field.options\n                .split(\";\")\n                .filter(Boolean)\n                .map((name) => (\n                  <label\n                    key={name}\n                    style={{\n                      ...(errors[field.name]\n                        ? { color: colors.lightPink }\n                        : null),\n                    }}\n                  >\n                    {name}\n                    &nbsp;\n                    <input\n                      type=\"radio\"\n                      name={field.name}\n                      value={name}\n                      ref={register({ required: field.required })}\n                    />\n                  </label>\n                ))}\n          </div>\n        )\n      default:\n        return (\n          <input\n            style={{\n              marginBottom: 20,\n              ...(errors[field.name] ? errorStyle : null),\n            }}\n            aria-label={field.name}\n            autoComplete=\"off\"\n            key={field.name}\n            type={field.type}\n            name={field.name}\n            placeholder={field.name}\n            ref={register({\n              required: field.required,\n              ...(field.pattern\n                ? { pattern: new RegExp(field.pattern) }\n                : null),\n              ...(field.max ? { max: field.max } : null),\n              ...(field.min ? { min: field.min } : null),\n              ...(field.maxLength ? { maxLength: field.maxLength } : null),\n              ...(field.minLength ? { minLength: field.minLength } : null),\n            })}\n          />\n        )\n    }\n  })\n}\n\nexport default FormFields\n","import * as React from \"react\"\nimport { Animate } from \"react-simple-animate\"\nimport { useStateMachine } from \"little-state-machine\"\nimport FormFields from \"./FormFields\"\nimport goToBuilder from \"./utils/goToBuilder\"\nimport { useForm } from \"react-hook-form\"\nimport home from \"../data/home\"\nimport generic from \"../data/generic\"\nimport buttonStyles from \"../styles/button.module.css\"\nimport containerStyles from \"../styles/container.module.css\"\nimport typographyStyles from \"../styles/typography.module.css\"\nimport styles from \"./Form.module.css\"\n\nconst animationProps = {\n  start: {\n    opacity: 0,\n  },\n  end: {\n    opacity: 1,\n  },\n  duration: 0.8,\n}\n\nfunction Form({\n  onSubmit,\n  submitData,\n  toggleBuilder,\n  formUpdated,\n  currentLanguage,\n  methods,\n  devTool,\n}: {\n  onSubmit: any\n  submitData: Object\n  toggleBuilder: (state: boolean) => void\n  formUpdated: boolean\n  currentLanguage: string\n  methods?: any\n  devTool?: boolean\n}) {\n  const { register, errors, handleSubmit, watch, formState, reset } =\n    methods ||\n    useForm({\n      mode: \"onChange\",\n    })\n  const touched = Object.keys(formState.touched)\n  const {\n    state: { formData },\n  } = useStateMachine()\n\n  return (\n    <>\n      {!devTool && (\n        <div className={containerStyles.centerContent}>\n          <h1 className={typographyStyles.h1}>\n            {generic.liveDemo[currentLanguage]}\n          </h1>\n          {formUpdated && (\n            <Animate\n              play={formUpdated}\n              start={{ opacity: 0, transform: \"translateY(20px)\" }}\n              end={{ opacity: 1 }}\n              delay={1.5}\n              render={({ style }) => (\n                <p style={{ marginBottom: 20, ...style }}>\n                  <b className={typographyStyles.note}>Note:</b> your form has\n                  been updated.\n                </p>\n              )}\n            />\n          )}\n          <p>{home.liveDemo[currentLanguage].description}</p>\n        </div>\n      )}\n\n      <div className={styles.wrapper}>\n        <form className={styles.demoForm} onSubmit={handleSubmit(onSubmit)}>\n          <h2 className={typographyStyles.title}>\n            {generic.example[currentLanguage]}\n          </h2>\n\n          <FormFields {...{ formData, errors, register }} />\n\n          <button className={buttonStyles.pinkButton}>\n            {home.liveDemo[currentLanguage].submit}\n          </button>\n\n          {!devTool && (\n            <>\n              <h2\n                className={typographyStyles.title}\n                style={{\n                  fontSize: 14,\n                  maxWidth: \"80%\",\n                  margin: \"0 auto\",\n                }}\n              >\n                or\n              </h2>\n\n              <button\n                className={buttonStyles.darkButton}\n                type=\"button\"\n                onClick={() => {\n                  reset()\n                  toggleBuilder(true)\n                  goToBuilder()\n                }}\n              >\n                {generic.edit[currentLanguage]}\n              </button>\n            </>\n          )}\n        </form>\n\n        {!devTool && (\n          <>\n            <section>\n              <h2 className={typographyStyles.title}>\n                {home.liveDemo[currentLanguage].watchTitle}\n              </h2>\n              <p>ⓘ {home.liveDemo[currentLanguage].watch}</p>\n              <Animate\n                play={Object.keys(watch()).length > 0}\n                {...animationProps}\n                render={({ style }) => (\n                  <pre className={styles.code} style={style}>\n                    {JSON.stringify(watch(), null, 2)}\n                  </pre>\n                )}\n              />\n            </section>\n            <section>\n              <h2 className={typographyStyles.title}>\n                {home.liveDemo[currentLanguage].errorTitle}\n              </h2>\n              <p>ⓘ {home.liveDemo[currentLanguage].error}</p>\n              <Animate {...animationProps} play={!!Object.keys(errors).length}>\n                <pre className={styles.code}>\n                  {Object.keys(errors).length > 0 &&\n                    JSON.stringify(\n                      Object.entries(errors).reduce(\n                        (previous, [key, { ref, ...rest }]) => {\n                          previous[key] = rest\n                          return previous\n                        },\n                        {}\n                      ),\n                      null,\n                      2\n                    )}\n                </pre>\n              </Animate>\n            </section>\n\n            <section>\n              <h2 className={typographyStyles.title}>\n                {home.liveDemo[currentLanguage].touchedTitle}\n              </h2>\n              <p>ⓘ {home.liveDemo[currentLanguage].touched}</p>\n              <Animate\n                play={!!touched.length}\n                {...animationProps}\n                render={({ style }) => (\n                  <pre className={styles.code} style={style}>\n                    {JSON.stringify(touched, null, 2)}\n                  </pre>\n                )}\n              />\n            </section>\n\n            {!!Object.keys(submitData).length && (\n              <section>\n                <h2 className={typographyStyles.title}>\n                  {home.liveDemo[currentLanguage].submit}\n                </h2>\n                <Animate\n                  play={!!Object.keys(submitData).length}\n                  {...animationProps}\n                  render={({ style }) => (\n                    <pre className={styles.code} style={style}>\n                      {Object.keys(submitData).length > 0 &&\n                        JSON.stringify(submitData, null, 2)}\n                    </pre>\n                  )}\n                />\n              </section>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  )\n}\n\nexport default React.memo(Form)\n"],"sourceRoot":""}